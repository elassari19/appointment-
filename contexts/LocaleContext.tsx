"use client";

import {createContext, useContext, useState, useEffect, ReactNode} from 'react';

export type Locale = 'en' | 'ar';

interface LocaleContextType {
  locale: Locale;
  setLocale: (locale: Locale) => void;
  t: (key: string) => string;
}

const translations: Record<Locale, Record<string, string>> = {
  en: {
    'nav.home': 'Home',
    'nav.aboutUs': 'About Us',
    'nav.services': 'Services',
    'nav.doctors': 'Doctors',
    'nav.appointments': 'Appointments',
    'nav.blog': 'Blog',
    'nav.contactUs': 'Contact Us',
    'hero.title': 'Expert Healthcare Services',
    'hero.subtitle': 'Compassionate, patient-centered care for you and your family',
    'hero.cta': 'Book Appointment',
    'services.title': 'Our Services',
    'services.subtitle': 'Comprehensive healthcare solutions tailored to your needs',
    'services.mentalHealthTitle': 'Mental Health Services',
    'services.mentalHealthDesc': 'Compassionate care and expert support to help you achieve emotional balance, mental clarity, and lasting well-being.',
    'services.learnMore': 'Learn More',
    'services.meetDoctorsTitle': 'Meet Our Expert Doctors',
    'services.meetDoctorsDesc': 'Get to know our highly qualified doctors committed to providing personalized care and expert medical guidance for every patient.',
    'services.bookAppointment': 'Book an Appointment',
    'services.counselingTitle': 'Individual Counseling',
    'services.counselingDesc': 'Personalized one-on-one counseling sessions designed to address your unique emotional challenges.',
    'keyServices.title': 'Our Key Healthcare Services',
    'keyServices.subtitle': 'Comprehensive medical services designed to keep you healthy, safe, and cared for',
    'keyServices.welcome': 'Welcome Back! PureMed',
    'keyServices.checkHealth': 'Check Your Health Regularly',
    'keyServices.checkNow': 'Check Now',
    'keyServices.statistics': 'Statistics',
    'keyServices.statisticsDesc': 'Manage your health records, track wellness progress, and book doctor appointments instantly',
    'keyServices.reportCases': 'Report Cases',
    'keyServices.satisfaction': 'patient satisfaction',
    'keyServices.stayInformed': 'Stay Informed',
    'keyServices.drName': 'Dr. Sarah Johnson',
    'keyServices.specialization': 'Specialization',
    'keyServices.experience': 'Experience',
    'keyServices.rating': 'Rating',
    'keyServices.bookAppointment': 'Book an Appointment',
    'keyServices.stayProactive': 'Stay proactive with routine health checkups',
    'keyServices.bookLink': 'Book an Appointment',
    'technology.title': 'Improving health with intelligent technology',
    'technology.subtitle': 'Harnessing smart technology to deliver personalized healthcare solutions that enhance wellness, prevent illness, and promote healthier lifestyles',
    'technology.cta': 'Book a Free Consultation',
    'footer.helpLive': 'Helping people live more independently',
    'footer.officeAddress': 'Office Address',
    'footer.quickLinks': 'Quick Links',
    'footer.contact': 'Contact',
    'footer.email': 'Email',
    'footer.phone': 'Phone',
    'footer.copyright': '© 2025. All Rights Reserved',
    'footer.privacy': 'Privacy Policy',
    'footer.terms': 'Terms & Conditions',
    'footer.cookies': 'Cookies Settings',
    'lang.english': 'English',
    'lang.arabic': 'العربية',
    'auth.signIn': 'Sign In',
    'auth.signUp': 'Sign Up',
    'auth.profile': 'Profile',
    'auth.settings': 'Settings',
    'auth.logout': 'Logout',
    'auth.login.welcomeBack': 'Welcome back',
    'auth.login.signInToAccount': 'Sign in to your account',
    'auth.login.emailLabel': 'Email address',
    'auth.login.emailPlaceholder': 'Enter your email',
    'auth.login.passwordLabel': 'Password',
    'auth.login.passwordPlaceholder': 'Enter your password',
    'auth.login.rememberMe': 'Remember me',
    'auth.login.forgotPassword': 'Forgot password?',
    'auth.login.signInButton': 'Sign in',
    'auth.login.orDivider': 'or',
    'auth.login.continueWithGoogle': 'Continue with Google',
    'auth.login.continueWithGitHub': 'Continue with GitHub',
    'auth.login.dontHaveAccount': "Don't have an account?",
    'auth.login.signUpLink': 'Sign up',
    'auth.login.transformJourney': 'Transform Your Health Journey',
    'auth.login.transformJourneyDesc': 'Experience personalized nutrition plans designed to help you achieve your wellness goals with expert dietitians and cutting-edge tools.',
    'auth.login.feature1Title': 'Personalized Nutrition Plans',
    'auth.login.feature1Desc': 'Customized meal plans tailored to your goals',
    'auth.login.feature2Title': 'Expert Dietitian Support',
    'auth.login.feature2Desc': 'Connect with certified nutrition professionals',
    'auth.login.feature3Title': 'Track Your Progress',
    'auth.login.feature3Desc': 'Monitor your health metrics in real-time',
    'auth.login.testimonialQuote': 'Nutrison has transformed my relationship with food. The personalized plans and expert guidance helped me lose 20 pounds and feel more energetic than ever!',
    'auth.login.testimonialAuthor': 'Sarah Chen',
    'auth.login.testimonialRole': 'Health Enthusiast',
    'auth.login.statsActiveUsers': 'Active Users',
    'auth.login.statsDietitians': 'Dietitians',
    'auth.login.statsSatisfaction': 'Satisfaction',
    'auth.signup.createAccount': 'Create Account',
    'auth.signup.joinSubtitle': 'Join Nutrison for personalized nutrition',
    'auth.signup.firstNameLabel': 'First Name',
    'auth.signup.firstNamePlaceholder': 'John',
    'auth.signup.lastNameLabel': 'Last Name',
    'auth.signup.lastNamePlaceholder': 'Doe',
    'auth.signup.emailLabel': 'Email address',
    'auth.signup.emailPlaceholder': 'your@email.com',
    'auth.signup.passwordLabel': 'Password',
    'auth.signup.passwordPlaceholder': 'Create a strong password',
    'auth.signup.passwordReqMin': 'At least 8 characters',
    'auth.signup.passwordReqUpper': 'One uppercase letter',
    'auth.signup.passwordReqLower': 'One lowercase letter',
    'auth.signup.passwordReqNumber': 'One number',
    'auth.signup.accountTypeLabel': 'Account Type',
    'auth.signup.accountTypePlaceholder': 'Select account type',
    'auth.signup.patientType': 'Patient',
    'auth.signup.patientTypeDesc': 'For health tracking',
    'auth.signup.dietitianType': 'Dietitian',
    'auth.signup.dietitianTypeDesc': 'For professionals',
    'auth.signup.createButton': 'Create Account',
    'auth.signup.alreadyHaveAccount': 'Already have an account?',
    'auth.signup.loginLink': 'Login',
    'auth.signup.startJourney': 'Start Your Wellness Journey',
    'auth.signup.startJourneyDesc': "Join thousands of users who have transformed their lives with Nutrison's personalized nutrition solutions.",
    'auth.signup.feature1Title': 'Personalized Plans',
    'auth.signup.feature1Desc': 'Tailored meal plans based on your goals',
    'auth.signup.feature2Title': 'Expert Guidance',
    'auth.signup.feature2Desc': 'Support from certified dietitians',
    'auth.signup.feature3Title': 'Track Progress',
    'auth.signup.feature3Desc': 'Monitor your health journey',
    'auth.signup.testimonialQuote': "Nutrison made it easy to stick to my diet. The expert guidance and personalized plans helped me achieve my weight loss goals in just 3 months!",
    'auth.signup.testimonialAuthor': 'Michael Johnson',
    'auth.signup.testimonialRole': 'Lost 30 lbs',
    'auth.signup.statsSuccess': 'Success Rate',
    'auth.signup.statsMeals': 'Meals Planned',
    'auth.signup.statsSupport': 'Support',
    'auth.error.loginFailed': 'Login failed',
    'auth.error.loginError': 'An error occurred during login',
    'auth.error.signupFailed': 'Signup failed',
    'auth.error.signupError': 'An error occurred during signup',
    'auth.error.validEmail': 'Please enter a valid email address',
    'auth.error.passwordRequired': 'Password is required',
    'auth.login.loading': 'Loading...',
    'auth.forgotPassword.backToLogin': 'Back to login',
    'auth.forgotPassword.title': 'Forgot your password?',
    'auth.forgotPassword.subtitle': "Enter your email and we'll send you a link to reset your password",
    'auth.forgotPassword.emailLabel': 'Email address',
    'auth.forgotPassword.emailPlaceholder': 'Enter your email',
    'auth.forgotPassword.sendButton': 'Send reset link',
    'auth.forgotPassword.successMessage': 'Check your email for a link to reset your password. If it does not appear within a few minutes, check your spam folder.',
    'auth.forgotPassword.rememberPassword': 'Remember your password?',
    'auth.forgotPassword.loginLink': 'Sign in',
    'auth.forgotPassword.helpTitle': "We're here to help",
    'auth.forgotPassword.helpDesc': 'Having trouble accessing your account? Our support team is ready to assist you.',
    'auth.forgotPassword.help1Title': 'Check your spam folder',
    'auth.forgotPassword.help1Desc': 'Sometimes reset emails can end up in spam or junk folders',
    'auth.forgotPassword.help2Title': 'Contact support',
    'auth.forgotPassword.help2Desc': 'Still having issues? Reach out to our support team',
    'auth.forgotPassword.errorSendEmail': 'Failed to send reset email',
    'auth.forgotPassword.errorOccurred': 'An error occurred',
    'auth.resetPassword.backToLogin': 'Back to login',
    'auth.resetPassword.title': 'Reset your password',
    'auth.resetPassword.subtitle': 'Create a new password for your account',
    'auth.resetPassword.passwordLabel': 'New password',
    'auth.resetPassword.passwordPlaceholder': 'Create a new password',
    'auth.resetPassword.confirmPasswordLabel': 'Confirm password',
    'auth.resetPassword.confirmPasswordPlaceholder': 'Confirm your password',
    'auth.resetPassword.resetButton': 'Reset password',
    'auth.resetPassword.successTitle': 'Password reset successfully',
    'auth.resetPassword.successDesc': 'Redirecting you to login page...',
    'auth.resetPassword.rememberPassword': 'Remember your password?',
    'auth.resetPassword.loginLink': 'Sign in',
    'auth.resetPassword.securityTitle': 'Keep your account secure',
    'auth.resetPassword.securityDesc': 'Choose a strong password that you do not use for other accounts.',
    'auth.resetPassword.security1Title': 'Use a strong password',
    'auth.resetPassword.security1Desc': 'Combine letters, numbers, and special characters',
    'auth.resetPassword.security2Title': 'Never share your password',
    'auth.resetPassword.security2Desc': 'We will never ask for your password via email or phone',
    'auth.resetPassword.passwordReqMin': 'At least 8 characters',
    'auth.resetPassword.passwordReqUpper': 'One uppercase letter',
    'auth.resetPassword.passwordReqLower': 'One lowercase letter',
    'auth.resetPassword.passwordReqNumber': 'One number',
    'auth.resetPassword.errorReset': 'Failed to reset password',
    'auth.resetPassword.errorOccurred': 'An error occurred',
    'auth.changePassword.backToSettings': 'Back to settings',
    'auth.changePassword.title': 'Change your password',
    'auth.changePassword.subtitle': 'Update your password to keep your account secure',
    'auth.changePassword.currentPasswordLabel': 'Current password',
    'auth.changePassword.currentPasswordPlaceholder': 'Enter current password',
    'auth.changePassword.newPasswordLabel': 'New password',
    'auth.changePassword.newPasswordPlaceholder': 'Create a new password',
    'auth.changePassword.confirmPasswordLabel': 'Confirm new password',
    'auth.changePassword.confirmPasswordPlaceholder': 'Confirm new password',
    'auth.changePassword.changeButton': 'Change password',
    'auth.changePassword.successMessage': 'Your password has been changed successfully',
    'auth.changePassword.tipsTitle': 'Password tips',
    'auth.changePassword.tipsDesc': 'Follow these guidelines to create a strong, secure password.',
    'auth.changePassword.tip1Title': 'Use a unique password',
    'auth.changePassword.tip1Desc': 'Do not reuse passwords from other accounts',
    'auth.changePassword.tip2Title': 'Make it long',
    'auth.changePassword.tip2Desc': 'Longer passwords are harder to crack',
    'auth.changePassword.tip3Title': 'Include numbers and symbols',
    'auth.changePassword.tip3Desc': 'Add variety to make your password stronger',
    'auth.changePassword.passwordReqMin': 'At least 8 characters',
    'auth.changePassword.passwordReqUpper': 'One uppercase letter',
    'auth.changePassword.passwordReqLower': 'One lowercase letter',
    'auth.changePassword.passwordReqNumber': 'One number',
    'auth.changePassword.errorChange': 'Failed to change password',
    'auth.changePassword.errorOccurred': 'An error occurred',
    'auth.verifyEmail.title': 'Verify your email',
    'auth.verifyEmail.subtitle': 'Please check your email and click the link to verify your account',
    'auth.verifyEmail.successTitle': 'Email verified successfully',
    'auth.verifyEmail.successDesc': 'Redirecting you to login page...',
    'auth.verifyEmail.errorTitle': 'Verification failed',
    'auth.verifyEmail.errorDesc': 'The verification link is invalid or has expired',
    'auth.verifyEmail.resendButton': 'Resend verification email',
    'auth.verifyEmail.loginLink': 'Go to login',
    'auth.verifyEmail.helpTitle': 'Did not receive the email?',
    'auth.verifyEmail.helpDesc': 'Check your spam folder or request a new verification link.',
    'auth.verifyEmail.feature1Title': 'Check your inbox',
    'auth.verifyEmail.feature1Desc': 'Look for an email from us with a verification link',
    'auth.verifyEmail.feature2Title': 'Click the link',
    'auth.verifyEmail.feature2Desc': 'Click the verification link in the email',
    'auth.verifyEmail.errorOccurred': 'An error occurred',
    'auth.resendVerification.title': 'Resend verification email',
    'auth.resendVerification.subtitle': 'Enter your email and we will send you a new verification link',
    'auth.resendVerification.emailLabel': 'Email address',
    'auth.resendVerification.emailPlaceholder': 'Enter your email',
    'auth.resendVerification.sendButton': 'Send verification email',
    'auth.resendVerification.successMessage': 'If an account with that email exists and is not verified, a verification email has been sent.',
    'auth.resendVerification.rememberPassword': 'Already verified?',
    'auth.resendVerification.loginLink': 'Sign in',
    'auth.resendVerification.backToLogin': 'Back to login',
    'auth.resendVerification.helpTitle': 'Verification help',
    'auth.resendVerification.helpDesc': 'Need assistance with email verification? Our support team is here to help.',
    'auth.resendVerification.errorSendEmail': 'Failed to send verification email',
    'auth.resendVerification.errorOccurred': 'An error occurred',
    'availability.title': 'Availability Management',
    'availability.subtitle': 'Set your working hours and availability for appointments',
    'availability.saveButton': 'Save Changes',
    'availability.addSlot': 'Add Time Slot',
    'availability.from': 'From',
    'availability.to': 'to',
    'availability.duration': 'Duration',
    'availability.active': 'Active',
    'availability.available': 'Available',
    'availability.noSlots': 'No time slots set',
    'availability.addSlotPrompt': 'Click "Add Time Slot" to set your availability',
    'availability.success': 'Availability saved successfully',
    'availability.error': 'Failed to load availability',
    'availability.errorSave': 'Failed to save availability',
    'availability.errorOccurred': 'An error occurred',
    'availability.min30': '30 min',
    'availability.min45': '45 min',
    'availability.min60': '60 min',
    'availability.min90': '90 min',
    'availability.monday': 'Monday',
    'availability.tuesday': 'Tuesday',
    'availability.wednesday': 'Wednesday',
    'availability.thursday': 'Thursday',
    'availability.friday': 'Friday',
    'availability.saturday': 'Saturday',
    'availability.sunday': 'Sunday',
    'messages': 'Messages',
    'messages.newConversation': 'New Conversation',
    'messages.typeMessage': 'Type a message...',
    'messages.send': 'Send',
    'messages.noConversations': 'No conversations yet',
    'messages.selectConversation': 'Select a conversation to start messaging',
    'messages.encryptionNotice': 'Messages are encrypted for your privacy',
    'dashboard.welcome': 'Welcome',
    'dashboard.welcomeBack': 'Welcome back',
    'dashboard.todaySummary': 'Here\'s your health summary for today',
    'patient.upcoming': 'Upcoming',
    'patient.totalReports': 'Total Reports',
    'patient.healthScore': 'Health Score',
    'patient.bookNewVisit': 'Book New Visit',
    'patient.quickAction': 'Quick Action',
    'patient.bookNow': 'BOOK NOW',
    'patient.nextAppointment': 'Next Appointment',
    'patient.medicalHistory': 'Medical History',
    'patient.viewAll': 'View All',
    'patient.medicationSchedule': 'Medication Schedule',
    'patient.weeklyProgress': 'Weekly Progress',
  },
  ar: {
    'nav.home': 'الرئيسية',
    'nav.aboutUs': 'من نحن',
    'nav.services': 'خدماتنا',
    'nav.doctors': 'الأطباء',
    'nav.appointments': 'المواعيد',
    'nav.blog': 'المدونة',
    'nav.contactUs': 'اتصل بنا',
    'hero.title': 'خدمات الرعاية الصحية المتخصصة',
    'hero.subtitle': 'رعاية شاملة ومركزة على المريض لك ولعائلتك',
    'hero.cta': 'احجز موعداً',
    'services.title': 'خدماتنا',
    'services.subtitle': 'حلول رعاية صحية شاملة مصممة خصيصاً لاحتياجاتك',
    'services.mentalHealthTitle': 'خدمات الصحة النفسية',
    'services.mentalHealthDesc': 'رعاية رحيمة ودعم متخصص لمساعدتك على تحقيق التوازن العاطفي والوضوح الذهني والرفاهية الدائمة.',
    'services.learnMore': 'اعرف المزيد',
    'services.meetDoctorsTitle': 'تعرف على أطبائنا الخبراء',
    'services.meetDoctorsDesc': 'تعرف على أطبائنا المؤهلين الذين يلتزمون بتقديم رعاية شخصية وتوجيه طبي متخصص لكل مريض.',
    'services.bookAppointment': 'احجز موعداً',
    'services.counselingTitle': 'الاستشارة الفردية',
    'services.counselingDesc': 'جلسات استشارة شخصية مصممة لمعالجة تحدياتك العاطفية الفريدة.',
    'keyServices.title': 'خدماتنا الصحية الرئيسية',
    'keyServices.subtitle': 'خدمات طبية شاملة مصممة للحفاظ على صحتك وسلامتك ورعايتك',
    'keyServices.welcome': 'مرحباً بعودتك! PureMed',
    'keyServices.checkHealth': 'افحص صحتك بانتظام',
    'keyServices.checkNow': 'افحص الآن',
    'keyServices.statistics': 'إحصائيات',
    'keyServices.statisticsDesc': 'إدارة سجلاتك الصحية وتتبع تقدمك وحجز المواعيد مع الأطباء فوراً',
    'keyServices.reportCases': 'الحالات المبلغ عنها',
    'keyServices.satisfaction': 'رضا المرضى',
    'keyServices.stayInformed': 'ابقَ على اطلاع',
    'keyServices.drName': 'د. سارة جونسون',
    'keyServices.specialization': 'التخصص',
    'keyServices.experience': 'الخبرة',
    'keyServices.rating': 'التقييم',
    'keyServices.bookAppointment': 'احجز موعداً',
    'keyServices.stayProactive': 'كن استباقياً مع فحوصاتك الصحية الروتينية',
    'keyServices.bookLink': 'احجز موعداً',
    'technology.title': 'تحسين الصحة بالتكنولوجيا الذكية',
    'technology.subtitle': 'تسخير التكنولوجيا الذكية لتقديم حلول رعاية صحية مخصصة تعزز الصحة وتمنع الأمراض وترويج أنماط حياة صحية',
    'technology.cta': 'احجز استشارة مجانية',
    'footer.helpLive': 'مساعدة الناس على العيش بشكل أكثر استقلالية',
    'footer.officeAddress': 'عنوان المكتب',
    'footer.quickLinks': 'روابط سريعة',
    'footer.contact': 'اتصل بنا',
    'footer.email': 'البريد الإلكتروني',
    'footer.phone': 'الهاتف',
    'footer.copyright': 'جميع الحقوق محفوظة 2025',
    'footer.privacy': 'سياسة الخصوصية',
    'footer.terms': 'الشروط والأحكام',
    'footer.cookies': 'إعدادات ملفات تعريف الارتباط',
    'lang.english': 'English',
    'lang.arabic': 'العربية',
    'auth.signIn': 'تسجيل الدخول',
    'auth.signUp': 'إنشاء حساب',
    'auth.profile': 'الملف الشخصي',
    'auth.settings': 'الإعدادات',
    'auth.logout': 'تسجيل الخروج',
    'auth.login.welcomeBack': 'مرحباً بعودتك',
    'auth.login.signInToAccount': 'سجل الدخول إلى حسابك',
    'auth.login.emailLabel': 'البريد الإلكتروني',
    'auth.login.emailPlaceholder': 'أدخل بريدك الإلكتروني',
    'auth.login.passwordLabel': 'كلمة المرور',
    'auth.login.passwordPlaceholder': 'أدخل كلمة المرور',
    'auth.login.rememberMe': 'تذكرني',
    'auth.login.forgotPassword': 'نسيت كلمة المرور؟',
    'auth.login.signInButton': 'تسجيل الدخول',
    'auth.login.orDivider': 'أو',
    'auth.login.continueWithGoogle': 'المتابعة عبر Google',
    'auth.login.continueWithGitHub': 'المتابعة عبر GitHub',
    'auth.login.dontHaveAccount': 'ليس لديك حساب؟',
    'auth.login.signUpLink': 'سجل الآن',
    'auth.login.transformJourney': 'حوّل رحلتك الصحية',
    'auth.login.transformJourneyDesc': 'جرب خطط التغذية الشخصية المصممة لمساعدتك على تحقيق أهداف لياقتك مع أخصائيي تغذية وأدوات متطورة.',
    'auth.login.feature1Title': 'خطط تغذية مخصصة',
    'auth.login.feature1Desc': 'خطط وجبات مصممة خصيصاً لأهدافك',
    'auth.login.feature2Title': 'دعم أخصائيي التغذية',
    'auth.login.feature2Desc': 'تواصل مع محترفين معتمدين في التغذية',
    'auth.login.feature3Title': 'تتبع تقدمك',
    'auth.login.feature3Desc': 'راقب مقاييس صحتك في الوقت الفعلي',
    'auth.login.testimonialQuote': 'غيّر Nutris علاقتي بالطعام. ساعدتني الخطط الشخصية والإرشاد الخبراء على فقدان 10 كيلوغرام والشعور بطاقة أكبر من أي وقت مضى!',
    'auth.login.testimonialAuthor': 'سارة تشين',
    'auth.login.testimonialRole': 'عاشقة الصحة',
    'auth.login.statsActiveUsers': 'مستخدمين نشطين',
    'auth.login.statsDietitians': 'أخصائي تغذية',
    'auth.login.statsSatisfaction': 'رضا',
    'auth.signup.createAccount': 'إنشاء حساب',
    'auth.signup.joinSubtitle': 'انضم إلى Nutris لتغذية شخصية',
    'auth.signup.firstNameLabel': 'الاسم الأول',
    'auth.signup.firstNamePlaceholder': 'أحمد',
    'auth.signup.lastNameLabel': 'الاسم الأخير',
    'auth.signup.lastNamePlaceholder': 'علي',
    'auth.signup.emailLabel': 'البريد الإلكتروني',
    'auth.signup.emailPlaceholder': 'your@email.com',
    'auth.signup.passwordLabel': 'كلمة المرور',
    'auth.signup.passwordPlaceholder': 'أنشئ كلمة مرور قوية',
    'auth.signup.passwordReqMin': 'على الأقل 8 أحرف',
    'auth.signup.passwordReqUpper': 'حرف كبير واحد',
    'auth.signup.passwordReqLower': 'حرف صغير واحد',
    'auth.signup.passwordReqNumber': 'رقم واحد',
    'auth.signup.accountTypeLabel': 'نوع الحساب',
    'auth.signup.accountTypePlaceholder': 'اختر نوع الحساب',
    'auth.signup.patientType': 'مريض',
    'auth.signup.patientTypeDesc': 'لمتابعة الصحة',
    'auth.signup.dietitianType': 'أخصائي تغذية',
    'auth.signup.dietitianTypeDesc': 'للمحترفين',
    'auth.signup.createButton': 'إنشاء حساب',
    'auth.signup.alreadyHaveAccount': 'لديك حساب بالفعل؟',
    'auth.signup.loginLink': 'تسجيل الدخول',
    'auth.signup.startJourney': 'ابدأ رحلتك الصحية',
    'auth.signup.startJourneyDesc': 'انضم إلى آلاف المستخدمين الذين حوّلوا حياتهم مع حلول Nutris للتغذية الشخصية.',
    'auth.signup.feature1Title': 'خطط مخصصة',
    'auth.signup.feature1Desc': 'خطط وجبات مصممة حسب أهدافك',
    'auth.signup.feature2Title': 'إرشاد الخبراء',
    'auth.signup.feature2Desc': 'دعم من أخصائيي تغذية معتمدين',
    'auth.signup.feature3Title': 'تتبع التقدم',
    'auth.signup.feature3Desc': 'راقب رحلتك الصحية',
    'auth.signup.testimonialQuote': 'سهلت Nutris الالتزام بنظامي الغذائي. ساعدني الإرشاد الخبراء والخطط الشخصية على تحقيق أهداف فقدان الوزن في غضون 3 أشهر فقط!',
    'auth.signup.testimonialAuthor': 'مايكل جونسون',
    'auth.signup.testimonialRole': 'خسر 15 كيلو',
    'auth.signup.statsSuccess': 'نسبة النجاح',
    'auth.signup.statsMeals': 'وجبات مخططة',
    'auth.signup.statsSupport': 'دعم',
    'auth.error.loginFailed': 'فشل تسجيل الدخول',
    'auth.error.loginError': 'حدث خطأ أثناء تسجيل الدخول',
    'auth.error.signupFailed': 'فشل إنشاء الحساب',
    'auth.error.signupError': 'حدث خطأ أثناء إنشاء الحساب',
    'auth.error.validEmail': 'يرجى إدخال بريد إلكتروني صالح',
    'auth.error.passwordRequired': 'كلمة المرور مطلوبة',
    'auth.forgotPassword.backToLogin': 'العودة لتسجيل الدخول',
    'auth.forgotPassword.title': 'نسيت كلمة المرور؟',
    'auth.forgotPassword.subtitle': 'أدخل بريدك الإلكتروني وسنرسل لك رابطاً لإعادة تعيين كلمة المرور',
    'auth.forgotPassword.emailLabel': 'البريد الإلكتروني',
    'auth.forgotPassword.emailPlaceholder': 'أدخل بريدك الإلكتروني',
    'auth.forgotPassword.sendButton': 'إرسال رابط إعادة التعيين',
    'auth.forgotPassword.successMessage': 'تحقق من بريدك الإلكتروني للحصول على رابط إعادة تعيين كلمة المرور. إذا لم يظهر خلال دقائق، تحقق من مجلد الرسائل غير المرغوب فيها.',
    'auth.forgotPassword.rememberPassword': 'تذكرت كلمة المرور؟',
    'auth.forgotPassword.loginLink': 'سجل الدخول',
    'auth.forgotPassword.helpTitle': 'نحن هنا للمساعدة',
    'auth.forgotPassword.helpDesc': 'هل تواجه مشكلة في الوصول إلى حسابك؟ فريق الدعم جاهز لمساعدتك.',
    'auth.forgotPassword.help1Title': 'تحقق من الرسائل غير المرغوب فيها',
    'auth.forgotPassword.help1Desc': 'أحياناً يمكن أن تنتهي رسائل إعادة التعيين في مجلد الرسائل غير المرغوب فيها',
    'auth.forgotPassword.help2Title': 'اتصل بالدعم',
    'auth.forgotPassword.help2Desc': 'لا تزال تواجه مشاكل؟ تواصل مع فريق الدعم',
    'auth.forgotPassword.errorSendEmail': 'فشل إرسال رسالة إعادة التعيين',
    'auth.forgotPassword.errorOccurred': 'حدث خطأ',
    'auth.resetPassword.backToLogin': 'العودة لتسجيل الدخول',
    'auth.resetPassword.title': 'إعادة تعيين كلمة المرور',
    'auth.resetPassword.subtitle': 'أنشئ كلمة مرور جديدة لحسابك',
    'auth.resetPassword.passwordLabel': 'كلمة المرور الجديدة',
    'auth.resetPassword.passwordPlaceholder': 'أنشئ كلمة مرور جديدة',
    'auth.resetPassword.confirmPasswordLabel': 'تأكيد كلمة المرور',
    'auth.resetPassword.confirmPasswordPlaceholder': 'أكد كلمة المرور',
    'auth.resetPassword.resetButton': 'إعادة تعيين كلمة المرور',
    'auth.resetPassword.successTitle': 'تم إعادة تعيين كلمة المرور بنجاح',
    'auth.resetPassword.successDesc': 'جاري توجيهك إلى صفحة تسجيل الدخول...',
    'auth.resetPassword.rememberPassword': 'تذكرت كلمة المرور؟',
    'auth.resetPassword.loginLink': 'سجل الدخول',
    'auth.resetPassword.securityTitle': 'حافظ على أمان حسابك',
    'auth.resetPassword.securityDesc': 'اختر كلمة مرور قوية لا تستخدمها لحسابات أخرى.',
    'auth.resetPassword.security1Title': 'استخدم كلمة مرور قوية',
    'auth.resetPassword.security1Desc': 'جمع بين الأحرف والأرقام والرموز الخاصة',
    'auth.resetPassword.security2Title': 'لا تشارك كلمة مرورك',
    'auth.resetPassword.security2Desc': 'لن نطلب كلمة مرورك أبداً عبر البريد الإلكتروني أو الهاتف',
    'auth.resetPassword.passwordReqMin': 'على الأقل 8 أحرف',
    'auth.resetPassword.passwordReqUpper': 'حرف كبير واحد',
    'auth.resetPassword.passwordReqLower': 'حرف صغير واحد',
    'auth.resetPassword.passwordReqNumber': 'رقم واحد',
    'auth.resetPassword.errorReset': 'فشل إعادة تعيين كلمة المرور',
    'auth.resetPassword.errorOccurred': 'حدث خطأ',
    'auth.changePassword.backToSettings': 'العودة للإعدادات',
    'auth.changePassword.title': 'تغيير كلمة المرور',
    'auth.changePassword.subtitle': 'حدث كلمة المرور للحفاظ على أمان حسابك',
    'auth.changePassword.currentPasswordLabel': 'كلمة المرور الحالية',
    'auth.changePassword.currentPasswordPlaceholder': 'أدخل كلمة المرور الحالية',
    'auth.changePassword.newPasswordLabel': 'كلمة المرور الجديدة',
    'auth.changePassword.newPasswordPlaceholder': 'أنشئ كلمة مرور جديدة',
    'auth.changePassword.confirmPasswordLabel': 'تأكيد كلمة المرور الجديدة',
    'auth.changePassword.confirmPasswordPlaceholder': 'أكد كلمة المرور الجديدة',
    'auth.changePassword.changeButton': 'تغيير كلمة المرور',
    'auth.changePassword.successMessage': 'تم تغيير كلمة المرور بنجاح',
    'auth.changePassword.tipsTitle': 'نصائح كلمة المرور',
    'auth.changePassword.tipsDesc': 'اتبع هذه الإرشادات لإنشاء كلمة مرور قوية وآمنة.',
    'auth.changePassword.tip1Title': 'استخدم كلمة مرور فريدة',
    'auth.changePassword.tip1Desc': 'لا تعيد استخدام كلمات المرور من حسابات أخرى',
    'auth.changePassword.tip2Title': 'اجعلها طويلة',
    'auth.changePassword.tip2Desc': 'كلمات المرور الطويلة يصعب كسرها',
    'auth.changePassword.tip3Title': 'تضمين الأرقام والرموز',
    'auth.changePassword.tip3Desc': 'أضف تنوعاً لجعل كلمة مرورك أقوى',
    'auth.changePassword.passwordReqMin': 'على الأقل 8 أحرف',
    'auth.changePassword.passwordReqUpper': 'حرف كبير واحد',
    'auth.changePassword.passwordReqLower': 'حرف صغير واحد',
    'auth.changePassword.passwordReqNumber': 'رقم واحد',
    'auth.changePassword.errorChange': 'فشل تغيير كلمة المرور',
    'auth.changePassword.errorOccurred': 'حدث خطأ',
    'auth.verifyEmail.title': 'تحقق من بريدك الإلكتروني',
    'auth.verifyEmail.subtitle': 'الرجاء التحقق من بريدك الإلكتروني والنقر على الرابط لتفعيل حسابك',
    'auth.verifyEmail.successTitle': 'تم التحقق من البريد الإلكتروني بنجاح',
    'auth.verifyEmail.successDesc': 'جاري توجيهك إلى صفحة تسجيل الدخول...',
    'auth.verifyEmail.errorTitle': 'فشل التحقق',
    'auth.verifyEmail.errorDesc': 'رابط التحقق غير صالح أو انتهت صلاحيته',
    'auth.verifyEmail.resendButton': 'إعادة إرسال رابط التحقق',
    'auth.verifyEmail.loginLink': 'انتقل إلى تسجيل الدخول',
    'auth.verifyEmail.helpTitle': 'لم تستلم البريد الإلكتروني؟',
    'auth.verifyEmail.helpDesc': 'تحقق من مجلد الرسائل غير المرغوب فيها أو اطلب رابط تحقق جديد.',
    'auth.verifyEmail.feature1Title': 'تحقق من صندوق الوارد',
    'auth.verifyEmail.feature1Desc': 'ابحث عن بريد إلكتروني منا يحتوي على رابط التحقق',
    'auth.verifyEmail.feature2Title': 'انقر على الرابط',
    'auth.verifyEmail.feature2Desc': 'انقر على رابط التحقق في البريد الإلكتروني',
    'auth.verifyEmail.errorOccurred': 'حدث خطأ',
    'auth.resendVerification.title': 'إعادة إرسال بريد التحقق',
    'auth.resendVerification.subtitle': 'أدخل بريدك الإلكتروني وسنرسل لك رابط تحقق جديد',
    'auth.resendVerification.emailLabel': 'البريد الإلكتروني',
    'auth.resendVerification.emailPlaceholder': 'أدخل بريدك الإلكتروني',
    'auth.resendVerification.sendButton': 'إرسال بريد التحقق',
    'auth.resendVerification.successMessage': 'إذا كان هناك حساب بهذا البريد الإلكتروني ولم يتم التحقق منه، سيتم إرسال بريد تحقق جديد.',
    'auth.resendVerification.rememberPassword': 'تم التحقق بالفعل؟',
    'auth.resendVerification.loginLink': 'تسجيل الدخول',
    'auth.resendVerification.backToLogin': 'العودة لتسجيل الدخول',
    'auth.resendVerification.helpTitle': 'مساعدة في التحقق',
    'auth.resendVerification.helpDesc': 'تحتاج إلى مساعدة في التحقق من البريد الإلكتروني؟ فريق الدعم هنا للمساعدة.',
    'auth.resendVerification.errorSendEmail': 'فشل إرسال بريد التحقق',
    'auth.resendVerification.errorOccurred': 'حدث خطأ',
    'availability.title': 'إدارة التوافر',
    'availability.subtitle': 'حدد ساعات عملك وتوافرك للمواعيد',
    'availability.saveButton': 'حفظ التغييرات',
    'availability.addSlot': 'إضافة فترة زمنية',
    'availability.from': 'من',
    'availability.to': 'إلى',
    'availability.duration': 'المدة',
    'availability.active': 'نشط',
    'availability.available': 'متاح',
    'availability.noSlots': 'لم يتم تحديد فترات زمنية',
    'availability.addSlotPrompt': 'انقر على "إضافة فترة زمنية" لتحديد توافرك',
    'availability.success': 'تم حفظ التوافر بنجاح',
    'availability.error': 'فشل تحميل التوافر',
    'availability.errorSave': 'فشل حفظ التوافر',
    'availability.errorOccurred': 'حدث خطأ',
    'availability.min30': '30 دقيقة',
    'availability.min45': '45 دقيقة',
    'availability.min60': '60 دقيقة',
    'availability.min90': '90 دقيقة',
    'availability.monday': 'الاثنين',
    'availability.tuesday': 'الثلاثاء',
    'availability.wednesday': 'الأربعاء',
    'availability.thursday': 'الخميس',
    'availability.friday': 'الجمعة',
    'availability.saturday': 'السبت',
'availability.sunday': 'الأحد',
    'messages': 'الرسائل',
    'messages.newConversation': 'محادثة جديدة',
    'messages.typeMessage': 'اكتب رسالة...',
    'messages.send': 'إرسال',
    'messages.noConversations': 'لا توجد محادثات بعد',
    'messages.selectConversation': 'اختر محادثة لبدء المراسلة',
    'messages.encryptionNotice': 'الرسائل مشفرة لضمان خصوصيتك',
    'dashboard.welcome': 'مرحباً',
    'dashboard.welcomeBack': 'مرحباً بعودتك',
    'dashboard.todaySummary': 'إليك ملخص صحتك لهذا اليوم',
    'patient.upcoming': 'القادمة',
    'patient.totalReports': 'إجمالي التقارير',
    'patient.healthScore': 'نتيجة الصحة',
    'patient.bookNewVisit': 'احجز موعداً جديداً',
    'patient.quickAction': 'إجراء سريع',
    'patient.bookNow': 'احجز الآن',
    'patient.nextAppointment': 'الموعد القادم',
    'patient.medicalHistory': 'السجل الطبي',
    'patient.viewAll': 'عرض الكل',
    'patient.medicationSchedule': 'جدول الأدوية',
    'patient.weeklyProgress': 'التقدم الأسبوعي',
  }
};

const LocaleContext = createContext<LocaleContextType | undefined>(undefined);

export function LocaleProvider({children, locale}: {children: ReactNode; locale: Locale}) {
  const [currentLocale, setLocaleState] = useState<Locale>(locale);
  const [mounted, setMounted] = useState(false);

  useEffect(() => {
    setMounted(true);
    
    const saved = localStorage.getItem('locale') as Locale;
    if (saved && (saved === 'en' || saved === 'ar')) {
      setLocaleState(saved);
      if (typeof document !== 'undefined') {
        document.documentElement.dir = saved === 'ar' ? 'rtl' : 'ltr';
        document.documentElement.lang = saved;
      }
    } else if (typeof document !== 'undefined') {
      document.documentElement.dir = locale === 'ar' ? 'rtl' : 'ltr';
      document.documentElement.lang = locale;
    }
  }, [locale]);

  const setLocale = (newLocale: Locale) => {
    setLocaleState(newLocale);
    localStorage.setItem('locale', newLocale);
    document.cookie = `locale=${newLocale}; path=/; max-age=31536000`;
    if (typeof document !== 'undefined') {
      document.documentElement.dir = newLocale === 'ar' ? 'rtl' : 'ltr';
      document.documentElement.lang = newLocale;
    }
  };

  const t = (key: string): string => {
    return translations[currentLocale][key] || key;
  };

  return (
    <LocaleContext.Provider value={{locale: currentLocale, setLocale, t}}>
      {children}
    </LocaleContext.Provider>
  );
}

export function useLocale() {
  const context = useContext(LocaleContext);
  if (context === undefined) {
    throw new Error('useLocale must be used within a LocaleProvider');
  }
  return context;
}
